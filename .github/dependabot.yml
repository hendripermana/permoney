# Dependabot configuration for Permoney
# Automatically updates Ruby gems, npm packages, GitHub Actions, and Docker images

version: 2
updates:
  # Ruby dependencies (Gemfile)
  - package-ecosystem: "bundler"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "UTC"
    open-pull-requests-limit: 10
    commit-message:
      prefix: "deps"
      prefix-development: "deps-dev"
      include: "scope"
    groups:
      rails:
        patterns:
          - "rails*"
          - "actionpack*"
          - "actionview*"
          - "activerecord*"
          - "activesupport*"
          - "actionmailer*"
          - "activejob*"
          - "actioncable*"
          - "activestorage*"
        update-types:
          - "version-update:semver-minor"
          - "version-update:semver-patch"
      testing:
        patterns:
          - "rspec*"
          - "minitest*"
          - "factory_bot*"
          - "capybara*"
          - "selenium*"
          - "webdrivers*"
      security:
        patterns:
          - "devise*"
          - "omniauth*"
          - "rack*"
          - "puma*"
          - "bcrypt*"

  # JavaScript dependencies (package.json)
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "UTC"
    open-pull-requests-limit: 10
    commit-message:
      prefix: "deps"
      prefix-development: "deps-dev"
      include: "scope"
    groups:
      build-tools:
        patterns:
          - "@babel/*"
          - "webpack*"
          - "esbuild*"
          - "vite*"
        update-types:
          - "version-update:semver-minor"
          - "version-update:semver-patch"
      ui-framework:
        patterns:
          - "tailwindcss*"
          - "@tailwindcss/*"
          - "stimulus*"
          - "turbo*"
          - "@hotwired/*"
        update-types:
          - "version-update:semver-minor"
          - "version-update:semver-patch"
      testing:
        patterns:
          - "jest*"
          - "@testing-library/*"
          - "cypress*"
          - "playwright*"

  # GitHub Actions
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "UTC"
    open-pull-requests-limit: 5
    commit-message:
      prefix: "ci"
      include: "scope"

  # Docker dependencies
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "UTC"
    open-pull-requests-limit: 5
    commit-message:
      prefix: "docker"
      include: "scope"
